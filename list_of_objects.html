<!DOCTYPE html>
<!-- saved from url=(0045)https://blm305.github.io/2022/work/ObjectList -->
<html lang="en-US">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="viewport" content="width=device-width">
  <link rel="icon" href="https://blm305.github.io/2022/images/icon192.png">
  <title>List of Objects </title>

  <style>
    body {
      max-width: 500px;
    }

    #inp {
      white-space: pre-wrap;
    }

    #sample {
      overflow-x: auto;
    }

    #out {
      color: blue;
    }
  </style>
</head>

<body>

  <h2 id="title">List of Objects</h2>
  <b>Text input â€ƒ
    <input type="button" id="convert" value="Convert" onclick="toList()">
  </b>
  <p>
    <textarea id="inp" rows="10" cols="50"></textarea>
  </p>
  <b>JSON output</b>
  <pre id="out"></pre>
  <hr>
  <b>Sample code</b>
  <pre id="sample"></pre>
  <hr>
  <p>Ref:
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters#Examples"
      target="NewTab">Rest Parameters</a>
  </p>

  <script>
    "use strict";
    function toList(str) {
      function toObject(x) {
        let b = {}
        for (let [i, s] of x.split('\t').entries())
          b[keys[i]] = (isNaN(s) ? s : Number(s))
        return b
      }
      if (str) inp.value = str
      else str = inp.value
      let [d0, ...data] = str.split('\n')
      let keys = d0.split('\t')
      console.log("Keys:", keys)
      let a = data.map(toObject)
      out.innerText = JSON.stringify(a, '', 2)
      console.table(a)
      return a
    }

    const JOBS = `department	salary	place
HR	110000	New york
Sales	80000	Hamburg
Sales	90000	San fransisco
Sales	100000	Illinois
Marketing  	90000	Chicago
Management	20000	Ankara
Management	30000	New york
Management	50000	Istanbul`

    title.innerText = document.title
    sample.innerText = toList
    inp.value = JOBS
    out.innerText = toList(JOBS)
  </script>



</body>

</html>